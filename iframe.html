<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script
        src="https://unpkg.com/aframe-environment-component@1.3.2/dist/aframe-environment-component.min.js"></script>
    <script src="https://unpkg.com/aframe-orbit-controls@1.3.0/dist/aframe-orbit-controls.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@5.0.0/dist/aframe-event-set-component.js"></script>
    <script src="./DragControls.js"></script>
    <script>
        AFRAME.registerComponent('drag-controls', {
          schema: {objects: {type: 'string', default: 'a-entity'}},
  
          init: function () {
            var objects = [];
            var el = this.el;
            var els;
            var dragControls;
  
            els = el.sceneEl.querySelectorAll(this.data.objects);
            for (i = 0; i < els.length; i++) { objects.push(els[i].object3D); }
  
            el.sceneEl.addEventListener('renderstart', function () {
              dragControls = new THREE.DragControls(objects, el.sceneEl.camera,
                                                    el.sceneEl.renderer.domElement);
            });
          }
        });
      </script>


    <link rel="stylesheet" href="./assets/css/index.css">
</head>

<body>
    <!-- <a-scene environment="preset: forest">
        <a-gltf-model src="./assets/model-glb/shirt_baked1.glb" shadow position="0 1.6 -0.5">
        </a-gltf-model>
        <a-image src="./assets/image/logo.png" shadow position="0 1.6 0.1" side="double"></a-image>

        <a-entity camera look-controls="enabled: false"
            orbit-controls="target: 0 1.6 -0.5; minDistance: 0.5; maxDistance: 20; initialPosition: 0 2 0.1; rotateSpeed: 0.5">
        </a-entity>
    </a-scene> -->

    <a-scene drag-controls="objects: a-box" environment="preset: forest; shadow: true; shadowSize: 10; lightPosition: -1 1 1">
        <a-box color="red" aabb-collider="objects: a-box" position="-2 1 -5" shadow
          event-set__hitstart="material.opacity: 0.5; material.color: orange"
          event-set__hitend="material.opacity: 1; material.color: red"
        ></a-box>
  
        <a-box color="green" aabb-collider="objects: a-box" position="0 1 -5" shadow
          event-set__hitstart="material.opacity: 0.5; material.color: orange"
          event-set__hitend="material.opacity: 1; material.color: green"
        ></a-box>
  
        <a-box color="blue" aabb-collider="objects: a-box" position="2 1 -5" shadow
          event-set__hitstart="material.opacity: 0.5; material.color: orange"
          event-set__hitend="material.opacity: 1; material.color: blue"
        ></a-box>
  
        <a-entity camera position="0 1.6 0"></a-entity>
      </a-scene>

</body>

</html>